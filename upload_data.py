import requests

CUCKOO_API_URL = "http://localhost:8090/tasks/create/file"

def upload_file_to_cuckoo(data,file_name):
    url = CUCKOO_API_URL
    files = {"file":( file_name, data)}
    HEADERS = {"Authorization": "Bearer p8Cs7He1iiEKthpXHdFZcQ"}

    response = requests.post(url,headers = HEADERS ,files=files)

    if response.status_code == 200:
        task_id = response.json().get('task_id')
        return task_id
    #     print(f"Data successfully uploaded to Cuckoo Sandbox with task ID: {task_id}")
    #     report_url = "http://localhost:8090/tasks/report/{task_id}"
    #     response = requests.get(report_url)
    #     data = response.json()

    #     # In ra thông tin bạn quan tâm, ví dụ: tên tệp mẫu và kết quả log
    #     print("Tên tệp mẫu:", data.get("sample", "Không có thông tin"))
    #     print("Kết quả log:",data.get("behavior", "Không có kết quả log"))
    # else:
        # print("Failed to upload data to Cuckoo Sandbox.")
    return None